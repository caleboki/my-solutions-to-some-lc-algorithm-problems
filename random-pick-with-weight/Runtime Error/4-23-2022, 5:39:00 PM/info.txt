{"id":686206390,"lang":"javascript","lang_name":"JavaScript","time":"1 year, 2 months","timestamp":1650749940,"status":15,"status_display":"Runtime Error","runtime":"N/A","url":"/submissions/detail/686206390/","is_pending":"Not Pending","title":"Random Pick with Weight","memory":"N/A","code":"/**\n * @param {number[]} w\n */\n// var Solution = function(w) {\n    \n// };\n\n// /**\n//  * @return {number}\n//  */\n// Solution.prototype.pickIndex = function() {\n    \n// };\n\n/** \n * Your Solution object will be instantiated and called as such:\n * var obj = new Solution(w)\n * var param_1 = obj.pickIndex()\n */\n\n// class Solution {\n//     constructor(w) {\n//         this.prefixSums = [], this.prefixSum = 0\n        \n//         for (let i = 0; i < w.length; i++) {\n//             this.prefixSum += w[i]\n//             this.prefixSums[i] = this.prefixSum\n//         }\n        \n//     }\n    \n//     pickIndex() {\n//         let target = this.prefixSum * Math.random()\n//         console.log(target)\n//         // for (let i = 0; i < this.prefixSums.length; i++) {\n//         //     if (target < this.prefixSums[i]) return i\n//         // }\n//         // return i-1\n        \n//         const binarySearch = (arr, t) => {\n//             let l = 0, r = arr.length - 1\n            \n//             while (l < r) {\n//                 let mid = Math.floor((l+r)/2)\n                \n//                 if (t > arr[mid]) {\n//                     l = mid + 1\n//                 } else {\n//                     r = mid\n//                 }\n//             }\n//             return l\n//         }\n//         return binarySearch(this.prefixSums, target)\n//     }\n// }\n\n\nclass Solution {\n    constructor(w) {\n        this.w = w\n    }\n    \n    pickIndex() {\n        let sum = this.w.reduce((a, b) => a+b, 0), arr = []\n        \n        for (let i = 0; i < sum; i++) {\n            for (let j = 0; j < this.w[i]; j++) {\n                arr.push(i)\n            }\n        }\n        //console.log(arr)\n        return arr[Math.floor(Math.random()*arr.length)]\n        \n        \n        \n    }\n}","compare_result":"111111111111111111111111111111111111111111111111111111100","title_slug":"random-pick-with-weight","has_notes":false}