{"id":685965467,"lang":"javascript","lang_name":"JavaScript","time":"1 year, 2 months","timestamp":1650718084,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/685965467/","is_pending":"Not Pending","title":"Random Pick with Weight","memory":"N/A","code":"/**\n * @param {number[]} w\n */\n// var Solution = function(w) {\n    \n// };\n\n// /**\n//  * @return {number}\n//  */\n// Solution.prototype.pickIndex = function() {\n    \n// };\n\n/** \n * Your Solution object will be instantiated and called as such:\n * var obj = new Solution(w)\n * var param_1 = obj.pickIndex()\n */\n\nclass Solution {\n    constructor(w) {\n        this.prefixSums = [], this.prefixSum = 0\n        \n        for (let i = 0; i < w.length; i++) {\n            this.prefixSum += w[i]\n            this.prefixSums[i] = this.prefixSum\n        }\n        this.totalSum = this.prefixSum\n        \n    }\n    \n    pickIndex() {\n        let target = this.totalSum * Math.random()\n        \n        // for (let i = 0; i < this.prefixSums.length; i++) {\n        //     if (target < this.prefixSums[i]) return i\n        // }\n        // return i-1\n        \n        const binarySearch = (arr, t) => {\n            let l = 0, r = arr.length - 1, mid\n            \n            while (l <= r) {\n                mid = Math.floor((l+r)/2)\n                \n                if (t < arr[mid]) {\n                    return mid\n                } else if (t > arr[mid]) {\n                    l = mid\n                } else {\n                    r = mid\n                }\n            }\n            \n            return mid\n        }\n        \n        return binarySearch(this.prefixSums, target)\n        \n        \n        \n        \n    }\n}","compare_result":"100000000000000000000000000000000000000000000000000000000","title_slug":"random-pick-with-weight","has_notes":false}